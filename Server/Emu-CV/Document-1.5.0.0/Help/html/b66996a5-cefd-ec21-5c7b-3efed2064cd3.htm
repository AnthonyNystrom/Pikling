<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp"><head><title>cvCalcMotionGradient Method (mhi, mask, orientation, delta1, delta2, apertureSize)</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/script_prototype.js"> </script><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/StyleUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/ElementCollection.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><script type="text/javascript" src="../scripts/CollapsibleSection.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/CookieDataStore.js"> </script><meta name="file" content="b66996a5-cefd-ec21-5c7b-3efed2064cd3" /><xml xmlns:msxsl="urn:schemas-microsoft-com:xslt"><MSHelp:Attr Name="AssetID" Value="M:Emgu.CV.CvInvoke.cvCalcMotionGradient(System.IntPtr,System.IntPtr,System.IntPtr,System.Double,System.Double,System.Int32)" /><MSHelp:Keyword Index="A" Term="M:Emgu.CV.CvInvoke.cvCalcMotionGradient(System.IntPtr,System.IntPtr,System.IntPtr,System.Double,System.Double,System.Int32)" /><MSHelp:Keyword Index="A" Term="frlrfEmguCVCvInvokeClasscvCalcMotionGradientTopic" /><MSHelp:Keyword Index="K" Term="cvCalcMotionGradient method" /><MSHelp:Keyword Index="K" Term="CvInvoke.cvCalcMotionGradient method" /><MSHelp:Keyword Index="F" Term="cvCalcMotionGradient" /><MSHelp:Keyword Index="F" Term="CvInvoke.cvCalcMotionGradient" /><MSHelp:Keyword Index="F" Term="Emgu.CV.CvInvoke.cvCalcMotionGradient" /><MSHelp:Attr Name="TopicType" Value="apiref" /><MSHelp:Attr Name="TopicType" Value="kbSyntax" /><MSHelp:Attr Name="APIType" Value="Managed" /><MSHelp:Attr Name="APILocation" Value="Emgu.CV.dll" /><MSHelp:Attr Name="APIName" Value="Emgu.CV..cvCalcMotionGradient" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml></head><body><div id="control"><span class="productTitle">Emgu CV Library Documentation</span><br /><span class="topicTitle">cvCalcMotionGradient Method (mhi, mask, orientation, delta1, delta2, apertureSize)</span><br /><div id="toolbar"><span id="chickenFeet"><a href="d4648875-d41a-783b-d5f4-638df39ee413.htm">Namespaces</a> ► <a href="b72c032d-59ae-c36f-5e00-12f8d621dfb8.htm">Emgu.CV</a> ► <a href="bb544594-4bf7-5a11-594c-f143b226f1da.htm">CvInvoke</a> ► <span class="selflink">cvCalcMotionGradient(IntPtr, IntPtr, IntPtr, Double, Double, Int32)</span></span><span id="languageFilter"><select id="languageSelector" onchange="var names = this.value.split(' '); toggleVisibleLanguage(names[1]); lfc.switchLanguage(names[0]); store.set('lang',this.value); store.save();"><option value="CSharp cs">C#</option><option value="VisualBasic vb">Visual Basic</option><option value="ManagedCPlusPlus cpp">Visual C++</option></select></span></div></div><div id="main"><script type="text/javascript"><!--
google_ad_client = "pub-0111567351193216";
/* 728x90, created 8/14/08 */
google_ad_slot = "3483381042";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p><span style="color: DarkGray">www.emgu.com/wiki </span><div class="summary">
             Calculates the derivatives Dx and Dy of mhi and then calculates gradient orientation as:
            orientation(x,y)=arctan(Dy(x,y)/Dx(x,y))
            where both Dx(x,y)' and Dy(x,y)' signs are taken into account (as in cvCartToPolar function). After that mask is filled to indicate where the orientation is valid (see delta1 and delta2 description). 
             </div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Declaration Syntax</div><div class="sectionContent"><div id="syntaxSection"><table class="filter"><tr class="tabs" id="syntaxTabs"><td class="tab" x-lang="CSharp" onclick="toggleClass('syntaxTabs','x-lang','CSharp','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','CSharp','display','block','none');">C#</td><td class="tab" x-lang="VisualBasic" onclick="toggleClass('syntaxTabs','x-lang','VisualBasic','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','VisualBasic','display','block','none');">Visual Basic</td><td class="tab" x-lang="ManagedCPlusPlus" onclick="toggleClass('syntaxTabs','x-lang','ManagedCPlusPlus','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','ManagedCPlusPlus','display','block','none');">Visual C++</td></tr></table><div id="syntaxBlocks"><div class="code" x-lang="CSharp"><pre><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="identifier">cvCalcMotionGradient</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mhi</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mask</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">orientation</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">delta1</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">delta2</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">apertureSize</span>
)</pre></div><div class="code" x-lang="VisualBasic"><pre><span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Sub</span> <span class="identifier">cvCalcMotionGradient</span> ( _
	<span class="parameter">mhi</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">mask</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">orientation</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">delta1</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>, _
	<span class="parameter">delta2</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>, _
	<span class="parameter">apertureSize</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Integer</a> _
)</pre></div><div class="code" x-lang="ManagedCPlusPlus"><pre><span class="keyword">public</span>:
<span class="keyword">static</span> <span class="keyword">void</span> <span class="identifier">cvCalcMotionGradient</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mhi</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mask</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">orientation</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">delta1</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">delta2</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">apertureSize</span>
)</pre></div></div></div></div></div><div id="parameters"><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Parameters</div><div class="sectionContent"><dl paramName="mhi"><dt><span class="parameter">mhi</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Motion history image</dd></dl><dl paramName="mask"><dt><span class="parameter">mask</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Mask image; marks pixels where motion gradient data is correct. Output parameter.</dd></dl><dl paramName="orientation"><dt><span class="parameter">orientation</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Motion gradient orientation image; contains angles from 0 to ~360. </dd></dl><dl paramName="delta1"><dt><span class="parameter">delta1</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>The function finds minimum (m(x,y)) and maximum (M(x,y)) mhi values over each pixel (x,y) neihborhood and assumes the gradient is valid only if min(delta1,delta2) &lt;= M(x,y)-m(x,y) &lt;= max(delta1,delta2). </dd></dl><dl paramName="delta2"><dt><span class="parameter">delta2</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>The function finds minimum (m(x,y)) and maximum (M(x,y)) mhi values over each pixel (x,y) neihborhood and assumes the gradient is valid only if min(delta1,delta2) &lt;= M(x,y)-m(x,y) &lt;= max(delta1,delta2).</dd></dl><dl paramName="apertureSize"><dt><span class="parameter">apertureSize</span> (<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a>)</dt><dd>Aperture size of derivative operators used by the function: CV_SCHARR, 1, 3, 5 or 7 (see cvSobel). </dd></dl></div></div></div><p><div id="footer">For questions and discussions please visit www.emgu.com/forum<p />Send comments on this topic to
        <a id="HT_MailLink" href="mailto:emgucv%40gmail.com?Subject=Emgu CV Library Documentation">emgucv@gmail.com</a>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title;
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> <p />2008 Emgu, All Rights Reserved,</div>Assembly: <span sdata="assembly">Emgu.CV</span> (Module: Emgu.CV) Version: 1.5.0.0 (1.5.0.0)</p></div></body></html>
<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp"><head><title>cvGoodFeaturesToTrack Method (image, eigImage, tempImage, corners, cornerCount, qualityLevel, minDistance, mask, blockSize, useHarris, k)</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/script_prototype.js"> </script><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/StyleUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/ElementCollection.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><script type="text/javascript" src="../scripts/CollapsibleSection.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/CookieDataStore.js"> </script><meta name="file" content="82bc9d98-46fd-04ff-6a9d-db45c6b075f8" /><xml xmlns:msxsl="urn:schemas-microsoft-com:xslt"><MSHelp:Attr Name="AssetID" Value="M:Emgu.CV.CvInvoke.cvGoodFeaturesToTrack(System.IntPtr,System.IntPtr,System.IntPtr,System.Drawing.PointF[],System.Int32@,System.Double,System.Double,System.IntPtr,System.Int32,System.Int32,System.Double)" /><MSHelp:Keyword Index="A" Term="M:Emgu.CV.CvInvoke.cvGoodFeaturesToTrack(System.IntPtr,System.IntPtr,System.IntPtr,System.Drawing.PointF[],System.Int32@,System.Double,System.Double,System.IntPtr,System.Int32,System.Int32,System.Double)" /><MSHelp:Keyword Index="A" Term="frlrfEmguCVCvInvokeClasscvGoodFeaturesToTrackTopic" /><MSHelp:Keyword Index="K" Term="cvGoodFeaturesToTrack method" /><MSHelp:Keyword Index="K" Term="CvInvoke.cvGoodFeaturesToTrack method" /><MSHelp:Keyword Index="F" Term="cvGoodFeaturesToTrack" /><MSHelp:Keyword Index="F" Term="CvInvoke.cvGoodFeaturesToTrack" /><MSHelp:Keyword Index="F" Term="Emgu.CV.CvInvoke.cvGoodFeaturesToTrack" /><MSHelp:Attr Name="TopicType" Value="apiref" /><MSHelp:Attr Name="TopicType" Value="kbSyntax" /><MSHelp:Attr Name="APIType" Value="Managed" /><MSHelp:Attr Name="APILocation" Value="Emgu.CV.dll" /><MSHelp:Attr Name="APIName" Value="Emgu.CV..cvGoodFeaturesToTrack" /><MSHelp:Attr Name="Locale" Value="en-us" /><MSHelp:Attr Name="Abstract" Value="Finds corners with big eigenvalues in the image." /></xml></head><body><div id="control"><span class="productTitle">Emgu CV Library Documentation</span><br /><span class="topicTitle">cvGoodFeaturesToTrack Method (image, eigImage, tempImage, corners, cornerCount, qualityLevel, minDistance, mask, blockSize, useHarris, k)</span><br /><div id="toolbar"><span id="chickenFeet"><a href="d4648875-d41a-783b-d5f4-638df39ee413.htm">Namespaces</a> ► <a href="b72c032d-59ae-c36f-5e00-12f8d621dfb8.htm">Emgu.CV</a> ► <a href="bb544594-4bf7-5a11-594c-f143b226f1da.htm">CvInvoke</a> ► <span class="selflink">cvGoodFeaturesToTrack(IntPtr, IntPtr, IntPtr, <span class="languageSpecificText"><span class="cpp">array&lt;</span></span>PointF<span class="languageSpecificText"><span class="cpp">&gt;</span><span class="cs">[]</span><span class="vb">()</span><span class="nu">[]</span></span>, Int32<span class="languageSpecificText"><span class="cpp">%</span></span>, Double, Double, IntPtr, Int32, Int32, Double)</span></span><span id="languageFilter"><select id="languageSelector" onchange="var names = this.value.split(' '); toggleVisibleLanguage(names[1]); lfc.switchLanguage(names[0]); store.set('lang',this.value); store.save();"><option value="CSharp cs">C#</option><option value="VisualBasic vb">Visual Basic</option><option value="ManagedCPlusPlus cpp">Visual C++</option></select></span></div></div><div id="main"><script type="text/javascript"><!--
google_ad_client = "pub-0111567351193216";
/* 728x90, created 8/14/08 */
google_ad_slot = "3483381042";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p><span style="color: DarkGray">www.emgu.com/wiki </span><div class="summary">
            Finds corners with big eigenvalues in the image. 
            </div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Declaration Syntax</div><div class="sectionContent"><div id="syntaxSection"><table class="filter"><tr class="tabs" id="syntaxTabs"><td class="tab" x-lang="CSharp" onclick="toggleClass('syntaxTabs','x-lang','CSharp','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','CSharp','display','block','none');">C#</td><td class="tab" x-lang="VisualBasic" onclick="toggleClass('syntaxTabs','x-lang','VisualBasic','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','VisualBasic','display','block','none');">Visual Basic</td><td class="tab" x-lang="ManagedCPlusPlus" onclick="toggleClass('syntaxTabs','x-lang','ManagedCPlusPlus','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','ManagedCPlusPlus','display','block','none');">Visual C++</td></tr></table><div id="syntaxBlocks"><div class="code" x-lang="CSharp"><pre><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="identifier">cvGoodFeaturesToTrack</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">image</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">eigImage</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">tempImage</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/ckys1c1e" target="_blank">PointF</a>[] <span class="parameter">corners</span>,
	<span class="keyword">ref</span> <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">cornerCount</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">qualityLevel</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">minDistance</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mask</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">blockSize</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">useHarris</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">k</span>
)</pre></div><div class="code" x-lang="VisualBasic"><pre><span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Sub</span> <span class="identifier">cvGoodFeaturesToTrack</span> ( _
	<span class="parameter">image</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">eigImage</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">tempImage</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	&lt;<a href="http://msdn2.microsoft.com/en-us/library/k8189tfc" target="_blank">OutAttribute</a>&gt; <span class="parameter">corners</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/ckys1c1e" target="_blank">PointF</a>(), _
	<span class="keyword">ByRef</span> <span class="parameter">cornerCount</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Integer</a>, _
	<span class="parameter">qualityLevel</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>, _
	<span class="parameter">minDistance</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>, _
	<span class="parameter">mask</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">blockSize</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Integer</a>, _
	<span class="parameter">useHarris</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Integer</a>, _
	<span class="parameter">k</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a> _
)</pre></div><div class="code" x-lang="ManagedCPlusPlus"><pre><span class="keyword">public</span>:
<span class="keyword">static</span> <span class="keyword">void</span> <span class="identifier">cvGoodFeaturesToTrack</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">image</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">eigImage</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">tempImage</span>, 
	[<a href="http://msdn2.microsoft.com/en-us/library/k8189tfc" target="_blank">OutAttribute</a>] <span class="keyword">array</span>&lt;<a href="http://msdn2.microsoft.com/en-us/library/ckys1c1e" target="_blank">PointF</a>&gt;^ <span class="parameter">corners</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a>% <span class="parameter">cornerCount</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">qualityLevel</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">minDistance</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mask</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">blockSize</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">useHarris</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">k</span>
)</pre></div></div></div></div></div><div id="parameters"><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Parameters</div><div class="sectionContent"><dl paramName="image"><dt><span class="parameter">image</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>The source 8-bit or floating-point 32-bit, single-channel image</dd></dl><dl paramName="eigImage"><dt><span class="parameter">eigImage</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Temporary floating-point 32-bit image of the same size as image</dd></dl><dl paramName="tempImage"><dt><span class="parameter">tempImage</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Another temporary image of the same size and same format as eig_image</dd></dl><dl paramName="corners"><dt><span class="parameter">corners</span> (<span class="languageSpecificText"><span class="cpp">array&lt;</span></span>
            <a href="http://msdn2.microsoft.com/en-us/library/ckys1c1e" target="_blank">PointF</a>
          <span class="languageSpecificText"><span class="cpp">&gt;</span><span class="cs">[]</span><span class="vb">()</span><span class="nu">[]</span></span>)</dt><dd>Output parameter. Detected corners</dd></dl><dl paramName="cornerCount"><dt><span class="parameter">cornerCount</span> (
            <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a>
          <span class="cpp">%</span>)</dt><dd>Output parameter. Number of detected corners</dd></dl><dl paramName="qualityLevel"><dt><span class="parameter">qualityLevel</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>Multiplier for the maxmin eigenvalue; specifies minimal accepted quality of image corners</dd></dl><dl paramName="minDistance"><dt><span class="parameter">minDistance</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>Limit, specifying minimum possible distance between returned corners; Euclidian distance is used</dd></dl><dl paramName="mask"><dt><span class="parameter">mask</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Region of interest. The function selects points either in the specified region or in the whole image if the mask is NULL</dd></dl><dl paramName="blockSize"><dt><span class="parameter">blockSize</span> (<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a>)</dt><dd>Size of the averaging block, passed to underlying cvCornerMinEigenVal or cvCornerHarris used by the function</dd></dl><dl paramName="useHarris"><dt><span class="parameter">useHarris</span> (<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a>)</dt><dd>If nonzero, Harris operator (cvCornerHarris) is used instead of default cvCornerMinEigenVal.</dd></dl><dl paramName="k"><dt><span class="parameter">k</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>Free parameter of Harris detector; used only if <span class="parameter">useHarris</span> != 0</dd></dl></div></div></div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Remarks</div><div class="sectionContent">
            The function first calculates the minimal eigenvalue for every source image pixel using cvCornerMinEigenVal function and stores them in eig_image. 
            Then it performs non-maxima suppression (only local maxima in 3x3 neighborhood remain). 
            The next step is rejecting the corners with the minimal eigenvalue less than quality_level*max(eigImage(x,y)). Finally, the function ensures that all the corners found are distanced enough one from another by considering the corners (the most strongest corners are considered first) and checking that the distance between the newly considered feature and the features considered earlier is larger than min_distance. So, the function removes the features than are too close to the stronger features.
            </div></div><p><div id="footer">For questions and discussions please visit www.emgu.com/forum<p />Send comments on this topic to
        <a id="HT_MailLink" href="mailto:emgucv%40gmail.com?Subject=Emgu CV Library Documentation">emgucv@gmail.com</a>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title;
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> <p />2008 Emgu, All Rights Reserved,</div>Assembly: <span sdata="assembly">Emgu.CV</span> (Module: Emgu.CV) Version: 1.5.0.0 (1.5.0.0)</p></div></body></html>
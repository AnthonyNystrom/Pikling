<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp"><head><title>cvCalcGlobalOrientation Method (orientation, mask, mhi, timestamp, duration)</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/script_prototype.js"> </script><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/StyleUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/ElementCollection.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><script type="text/javascript" src="../scripts/CollapsibleSection.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/CookieDataStore.js"> </script><meta name="file" content="75687f4a-fbb6-8b8f-bdeb-52fbd16a2078" /><xml xmlns:msxsl="urn:schemas-microsoft-com:xslt"><MSHelp:Attr Name="AssetID" Value="M:Emgu.CV.CvInvoke.cvCalcGlobalOrientation(System.IntPtr,System.IntPtr,System.IntPtr,System.Double,System.Double)" /><MSHelp:Keyword Index="A" Term="M:Emgu.CV.CvInvoke.cvCalcGlobalOrientation(System.IntPtr,System.IntPtr,System.IntPtr,System.Double,System.Double)" /><MSHelp:Keyword Index="A" Term="frlrfEmguCVCvInvokeClasscvCalcGlobalOrientationTopic" /><MSHelp:Keyword Index="K" Term="cvCalcGlobalOrientation method" /><MSHelp:Keyword Index="K" Term="CvInvoke.cvCalcGlobalOrientation method" /><MSHelp:Keyword Index="F" Term="cvCalcGlobalOrientation" /><MSHelp:Keyword Index="F" Term="CvInvoke.cvCalcGlobalOrientation" /><MSHelp:Keyword Index="F" Term="Emgu.CV.CvInvoke.cvCalcGlobalOrientation" /><MSHelp:Attr Name="TopicType" Value="apiref" /><MSHelp:Attr Name="TopicType" Value="kbSyntax" /><MSHelp:Attr Name="APIType" Value="Managed" /><MSHelp:Attr Name="APILocation" Value="Emgu.CV.dll" /><MSHelp:Attr Name="APIName" Value="Emgu.CV..cvCalcGlobalOrientation" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml></head><body><div id="control"><span class="productTitle">Emgu CV Library Documentation</span><br /><span class="topicTitle">cvCalcGlobalOrientation Method (orientation, mask, mhi, timestamp, duration)</span><br /><div id="toolbar"><span id="chickenFeet"><a href="d4648875-d41a-783b-d5f4-638df39ee413.htm">Namespaces</a> ► <a href="b72c032d-59ae-c36f-5e00-12f8d621dfb8.htm">Emgu.CV</a> ► <a href="bb544594-4bf7-5a11-594c-f143b226f1da.htm">CvInvoke</a> ► <span class="selflink">cvCalcGlobalOrientation(IntPtr, IntPtr, IntPtr, Double, Double)</span></span><span id="languageFilter"><select id="languageSelector" onchange="var names = this.value.split(' '); toggleVisibleLanguage(names[1]); lfc.switchLanguage(names[0]); store.set('lang',this.value); store.save();"><option value="CSharp cs">C#</option><option value="VisualBasic vb">Visual Basic</option><option value="ManagedCPlusPlus cpp">Visual C++</option></select></span></div></div><div id="main"><script type="text/javascript"><!--
google_ad_client = "pub-0111567351193216";
/* 728x90, created 8/14/08 */
google_ad_slot = "3483381042";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p><span style="color: DarkGray">www.emgu.com/wiki </span><div class="summary">
            Calculates the general motion direction in the selected region and returns the angle between 0 and 360. At first the function builds the orientation histogram and finds the basic orientation as a coordinate of the histogram maximum. After that the function calculates the shift relative to the basic orientation as a weighted sum of all orientation vectors: the more recent is the motion, the greater is the weight. The resultant angle is a circular sum of the basic orientation and the shift. 
            </div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Declaration Syntax</div><div class="sectionContent"><div id="syntaxSection"><table class="filter"><tr class="tabs" id="syntaxTabs"><td class="tab" x-lang="CSharp" onclick="toggleClass('syntaxTabs','x-lang','CSharp','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','CSharp','display','block','none');">C#</td><td class="tab" x-lang="VisualBasic" onclick="toggleClass('syntaxTabs','x-lang','VisualBasic','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','VisualBasic','display','block','none');">Visual Basic</td><td class="tab" x-lang="ManagedCPlusPlus" onclick="toggleClass('syntaxTabs','x-lang','ManagedCPlusPlus','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','ManagedCPlusPlus','display','block','none');">Visual C++</td></tr></table><div id="syntaxBlocks"><div class="code" x-lang="CSharp"><pre><span class="keyword">public</span> <span class="keyword">static</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="identifier">cvCalcGlobalOrientation</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">orientation</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mask</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mhi</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">timestamp</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">duration</span>
)</pre></div><div class="code" x-lang="VisualBasic"><pre><span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Function</span> <span class="identifier">cvCalcGlobalOrientation</span> ( _
	<span class="parameter">orientation</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">mask</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">mhi</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">timestamp</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>, _
	<span class="parameter">duration</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a> _
) <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a></pre></div><div class="code" x-lang="ManagedCPlusPlus"><pre><span class="keyword">public</span>:
<span class="keyword">static</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="identifier">cvCalcGlobalOrientation</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">orientation</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mask</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">mhi</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">timestamp</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">duration</span>
)</pre></div></div></div></div></div><div id="parameters"><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Parameters</div><div class="sectionContent"><dl paramName="orientation"><dt><span class="parameter">orientation</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Motion gradient orientation image; calculated by the function cvCalcMotionGradient.</dd></dl><dl paramName="mask"><dt><span class="parameter">mask</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Mask image. It may be a conjunction of valid gradient mask, obtained with cvCalcMotionGradient and mask of the region, whose direction needs to be calculated. </dd></dl><dl paramName="mhi"><dt><span class="parameter">mhi</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Motion history image.</dd></dl><dl paramName="timestamp"><dt><span class="parameter">timestamp</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>Current time in milliseconds or other units, it is better to store time passed to cvUpdateMotionHistory before and reuse it here, because running cvUpdateMotionHistory and cvCalcMotionGradient on large images may take some time.</dd></dl><dl paramName="duration"><dt><span class="parameter">duration</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>Maximal duration of motion track in milliseconds, the same as in cvUpdateMotionHistory</dd></dl></div></div></div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Return Value</div><div class="sectionContent">The angle</div></div><p><div id="footer">For questions and discussions please visit www.emgu.com/forum<p />Send comments on this topic to
        <a id="HT_MailLink" href="mailto:emgucv%40gmail.com?Subject=Emgu CV Library Documentation">emgucv@gmail.com</a>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title;
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> <p />2008 Emgu, All Rights Reserved,</div>Assembly: <span sdata="assembly">Emgu.CV</span> (Module: Emgu.CV) Version: 1.5.0.0 (1.5.0.0)</p></div></body></html>
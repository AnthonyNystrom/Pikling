<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp"><head><title>cvHaarDetectObjects Method (image, cascade, storage, scaleFactor, minNeighbors, flags, minSize)</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/script_prototype.js"> </script><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/StyleUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/ElementCollection.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><script type="text/javascript" src="../scripts/CollapsibleSection.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/CookieDataStore.js"> </script><meta name="file" content="521f935a-1154-8677-5abf-669e3bda26ee" /><xml xmlns:msxsl="urn:schemas-microsoft-com:xslt"><MSHelp:Attr Name="AssetID" Value="M:Emgu.CV.CvInvoke.cvHaarDetectObjects(System.IntPtr,System.IntPtr,System.IntPtr,System.Double,System.Int32,Emgu.CV.CvEnum.HAAR_DETECTION_TYPE,System.Drawing.Size)" /><MSHelp:Keyword Index="A" Term="M:Emgu.CV.CvInvoke.cvHaarDetectObjects(System.IntPtr,System.IntPtr,System.IntPtr,System.Double,System.Int32,Emgu.CV.CvEnum.HAAR_DETECTION_TYPE,System.Drawing.Size)" /><MSHelp:Keyword Index="A" Term="frlrfEmguCVCvInvokeClasscvHaarDetectObjectsTopic" /><MSHelp:Keyword Index="K" Term="cvHaarDetectObjects method" /><MSHelp:Keyword Index="K" Term="CvInvoke.cvHaarDetectObjects method" /><MSHelp:Keyword Index="F" Term="cvHaarDetectObjects" /><MSHelp:Keyword Index="F" Term="CvInvoke.cvHaarDetectObjects" /><MSHelp:Keyword Index="F" Term="Emgu.CV.CvInvoke.cvHaarDetectObjects" /><MSHelp:Attr Name="TopicType" Value="apiref" /><MSHelp:Attr Name="TopicType" Value="kbSyntax" /><MSHelp:Attr Name="APIType" Value="Managed" /><MSHelp:Attr Name="APILocation" Value="Emgu.CV.dll" /><MSHelp:Attr Name="APIName" Value="Emgu.CV..cvHaarDetectObjects" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml></head><body><div id="control"><span class="productTitle">Emgu CV Library Documentation</span><br /><span class="topicTitle">cvHaarDetectObjects Method (image, cascade, storage, scaleFactor, minNeighbors, flags, minSize)</span><br /><div id="toolbar"><span id="chickenFeet"><a href="d4648875-d41a-783b-d5f4-638df39ee413.htm">Namespaces</a> ► <a href="b72c032d-59ae-c36f-5e00-12f8d621dfb8.htm">Emgu.CV</a> ► <a href="bb544594-4bf7-5a11-594c-f143b226f1da.htm">CvInvoke</a> ► <span class="selflink">cvHaarDetectObjects(IntPtr, IntPtr, IntPtr, Double, Int32, HAAR_DETECTION_TYPE, Size)</span></span><span id="languageFilter"><select id="languageSelector" onchange="var names = this.value.split(' '); toggleVisibleLanguage(names[1]); lfc.switchLanguage(names[0]); store.set('lang',this.value); store.save();"><option value="CSharp cs">C#</option><option value="VisualBasic vb">Visual Basic</option><option value="ManagedCPlusPlus cpp">Visual C++</option></select></span></div></div><div id="main"><script type="text/javascript"><!--
google_ad_client = "pub-0111567351193216";
/* 728x90, created 8/14/08 */
google_ad_slot = "3483381042";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p><span style="color: DarkGray">www.emgu.com/wiki </span><div class="summary">
            Finds rectangular regions in the given image that are likely to contain objects the cascade has been trained for and returns those regions as a sequence of rectangles. The function scans the image several times at different scales (see cvSetImagesForHaarClassifierCascade). Each time it considers overlapping regions in the image and applies the classifiers to the regions using cvRunHaarClassifierCascade. It may also apply some heuristics to reduce number of analyzed regions, such as Canny prunning. After it has proceeded and collected the candidate rectangles (regions that passed the classifier cascade), it groups them and returns a sequence of average rectangles for each large enough group. The default parameters (scale_factor=1.1, min_neighbors=3, flags=0) are tuned for accurate yet slow object detection. For a faster operation on real video images the settings are: scale_factor=1.2, min_neighbors=2, flags=CV_HAAR_DO_CANNY_PRUNING, min_size=&lt;minimum possible face size&gt; (for example, ~1/4 to 1/16 of the image area in case of video conferencing). 
            </div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Declaration Syntax</div><div class="sectionContent"><div id="syntaxSection"><table class="filter"><tr class="tabs" id="syntaxTabs"><td class="tab" x-lang="CSharp" onclick="toggleClass('syntaxTabs','x-lang','CSharp','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','CSharp','display','block','none');">C#</td><td class="tab" x-lang="VisualBasic" onclick="toggleClass('syntaxTabs','x-lang','VisualBasic','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','VisualBasic','display','block','none');">Visual Basic</td><td class="tab" x-lang="ManagedCPlusPlus" onclick="toggleClass('syntaxTabs','x-lang','ManagedCPlusPlus','activeTab','tab'); toggleStyle('syntaxBlocks','x-lang','ManagedCPlusPlus','display','block','none');">Visual C++</td></tr></table><div id="syntaxBlocks"><div class="code" x-lang="CSharp"><pre><span class="keyword">public</span> <span class="keyword">static</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="identifier">cvHaarDetectObjects</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">image</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">cascade</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">storage</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">scaleFactor</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">minNeighbors</span>,
	<a href="e2278977-87ea-8fa9-b78e-0e52cfe6406a.htm">HAAR_DETECTION_TYPE</a> <span class="parameter">flags</span>,
	<a href="http://msdn2.microsoft.com/en-us/library/bfwt6fe5" target="_blank">Size</a> <span class="parameter">minSize</span>
)</pre></div><div class="code" x-lang="VisualBasic"><pre><span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Function</span> <span class="identifier">cvHaarDetectObjects</span> ( _
	<span class="parameter">image</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">cascade</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">storage</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>, _
	<span class="parameter">scaleFactor</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>, _
	<span class="parameter">minNeighbors</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Integer</a>, _
	<span class="parameter">flags</span> <span class="keyword">As</span> <a href="e2278977-87ea-8fa9-b78e-0e52cfe6406a.htm">HAAR_DETECTION_TYPE</a>, _
	<span class="parameter">minSize</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/bfwt6fe5" target="_blank">Size</a> _
) <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a></pre></div><div class="code" x-lang="ManagedCPlusPlus"><pre><span class="keyword">public</span>:
<span class="keyword">static</span> <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="identifier">cvHaarDetectObjects</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">image</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">cascade</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a> <span class="parameter">storage</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">double</a> <span class="parameter">scaleFactor</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">int</a> <span class="parameter">minNeighbors</span>, 
	<a href="e2278977-87ea-8fa9-b78e-0e52cfe6406a.htm">HAAR_DETECTION_TYPE</a> <span class="parameter">flags</span>, 
	<a href="http://msdn2.microsoft.com/en-us/library/bfwt6fe5" target="_blank">Size</a> <span class="parameter">minSize</span>
)</pre></div></div></div></div></div><div id="parameters"><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Parameters</div><div class="sectionContent"><dl paramName="image"><dt><span class="parameter">image</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Image to detect objects in.</dd></dl><dl paramName="cascade"><dt><span class="parameter">cascade</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Haar classifier cascade in internal representation</dd></dl><dl paramName="storage"><dt><span class="parameter">storage</span> (<a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">IntPtr</a>)</dt><dd>Memory storage to store the resultant sequence of the object candidate rectangles</dd></dl><dl paramName="scaleFactor"><dt><span class="parameter">scaleFactor</span> (<a href="http://msdn2.microsoft.com/en-us/library/643eft0t" target="_blank">Double</a>)</dt><dd>The factor by which the search window is scaled between the subsequent scans, for example, 1.1 means increasing window by 10%</dd></dl><dl paramName="minNeighbors"><dt><span class="parameter">minNeighbors</span> (<a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a>)</dt><dd>Minimum number (minus 1) of neighbor rectangles that makes up an object. All the groups of a smaller number of rectangles than min_neighbors-1 are rejected. If min_neighbors is 0, the function does not any grouping at all and returns all the detected candidate rectangles, which may be useful if the user wants to apply a customized grouping procedure</dd></dl><dl paramName="flags"><dt><span class="parameter">flags</span> (<a href="e2278977-87ea-8fa9-b78e-0e52cfe6406a.htm">HAAR_DETECTION_TYPE</a>)</dt><dd>Mode of operation. Currently the only flag that may be specified is CV_HAAR_DO_CANNY_PRUNING. If it is set, the function uses Canny edge detector to reject some image regions that contain too few or too much edges and thus can not contain the searched object. The particular threshold values are tuned for face detection and in this case the pruning speeds up the processing</dd></dl><dl paramName="minSize"><dt><span class="parameter">minSize</span> (<a href="http://msdn2.microsoft.com/en-us/library/bfwt6fe5" target="_blank">Size</a>)</dt><dd>Minimum window size. By default, it is set to the size of samples the classifier has been trained on (~20x20 for face detection). </dd></dl></div></div></div><div class="section"><div class="sectionTitle" onclick="toggleSection(this.parentNode)"><img src="../icons/collapse_all.gif" /> Return Value</div><div class="sectionContent">Rectangular regions in the given image that are likely to contain objects the cascade has been trained for</div></div><p><div id="footer">For questions and discussions please visit www.emgu.com/forum<p />Send comments on this topic to
        <a id="HT_MailLink" href="mailto:emgucv%40gmail.com?Subject=Emgu CV Library Documentation">emgucv@gmail.com</a>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title;
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> <p />2008 Emgu, All Rights Reserved,</div>Assembly: <span sdata="assembly">Emgu.CV</span> (Module: Emgu.CV) Version: 1.5.0.0 (1.5.0.0)</p></div></body></html>